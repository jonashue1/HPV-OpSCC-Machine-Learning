{
  "pixel_classifier_type": "OpenCVPixelClassifier",
  "metadata": {
    "inputPadding": 0,
    "inputResolution": {
      "pixelWidth": {
        "value": 4.0,
        "unit": "px"
      },
      "pixelHeight": {
        "value": 4.0,
        "unit": "px"
      },
      "zSpacing": {
        "value": 1.0,
        "unit": "z-slice"
      },
      "timeUnit": "SECONDS",
      "timepoints": []
    },
    "inputWidth": 512,
    "inputHeight": 512,
    "inputNumChannels": 3,
    "outputType": "PROBABILITY",
    "outputChannels": [
      {
        "name": "Background",
        "color": -7662170
      },
      {
        "name": "Nuclei",
        "color": -10365381
      },
      {
        "name": "Str",
        "color": -29013
      }
    ],
    "classificationLabels": {
      "0": {
        "name": "Background",
        "colorRGB": -7662170
      },
      "1": {
        "name": "Nuclei",
        "colorRGB": -10365381
      },
      "2": {
        "name": "Str",
        "colorRGB": -29013
      }
    }
  },
  "op": {
    "type": "data.op.channels",
    "colorTransforms": [
      {
        "channelName": "Red"
      },
      {
        "channelName": "Green"
      },
      {
        "channelName": "Blue"
      },
      {
        "stains": {
          "name": "H\u0026E default",
          "stain1": {
            "r": 0.6511078297640718,
            "g": 0.7011930397459234,
            "b": 0.2904942598947397,
            "name": "Hematoxylin",
            "isResidual": false
          },
          "stain2": {
            "r": 0.2158989396452469,
            "g": 0.8011960486835193,
            "b": 0.5580972490829657,
            "name": "Eosin",
            "isResidual": false
          },
          "stain3": {
            "r": 0.3155105736760095,
            "g": -0.5981592040221263,
            "b": 0.736653680193245,
            "name": "Residual",
            "isResidual": true
          },
          "maxRed": 255.0,
          "maxGreen": 255.0,
          "maxBlue": 255.0
        },
        "stainNumber": 1
      },
      {
        "stains": {
          "name": "H\u0026E default",
          "stain1": {
            "r": 0.6511078297640718,
            "g": 0.7011930397459234,
            "b": 0.2904942598947397,
            "name": "Hematoxylin",
            "isResidual": false
          },
          "stain2": {
            "r": 0.2158989396452469,
            "g": 0.8011960486835193,
            "b": 0.5580972490829657,
            "name": "Eosin",
            "isResidual": false
          },
          "stain3": {
            "r": 0.3155105736760095,
            "g": -0.5981592040221263,
            "b": 0.736653680193245,
            "name": "Residual",
            "isResidual": true
          },
          "maxRed": 255.0,
          "maxGreen": 255.0,
          "maxBlue": 255.0
        },
        "stainNumber": 2
      }
    ],
    "op": {
      "type": "op.core.sequential",
      "ops": [
        {
          "type": "op.core.sequential",
          "ops": [
            {
              "type": "op.core.sequential",
              "ops": [
                {
                  "type": "op.local",
                  "sigmaMean": 8.0,
                  "sigmaStdDev": 0.0
                },
                {
                  "type": "op.core.split-merge",
                  "ops": [
                    {
                      "type": "op.multiscale",
                      "features": [
                        "GAUSSIAN",
                        "LAPLACIAN",
                        "WEIGHTED_STD_DEV",
                        "GRADIENT_MAGNITUDE",
                        "STRUCTURE_TENSOR_EIGENVALUE_MAX",
                        "HESSIAN_EIGENVALUE_MAX",
                        "HESSIAN_EIGENVALUE_MIN"
                      ],
                      "sigmaX": 1.0,
                      "sigmaY": 1.0
                    },
                    {
                      "type": "op.multiscale",
                      "features": [
                        "GAUSSIAN",
                        "LAPLACIAN",
                        "WEIGHTED_STD_DEV",
                        "GRADIENT_MAGNITUDE",
                        "STRUCTURE_TENSOR_EIGENVALUE_MAX",
                        "HESSIAN_EIGENVALUE_MAX",
                        "HESSIAN_EIGENVALUE_MIN"
                      ],
                      "sigmaX": 2.0,
                      "sigmaY": 2.0
                    }
                  ]
                }
              ]
            },
            {
              "type": "op.feature-preprocessor",
              "preprocessor": {
                "normalizer": {
                  "offsets": [
                    0.0,
                    0.0,
                    0.0,
                    0.0,
                    0.0,
                    0.0,
                    0.0,
                    0.0,
                    0.0,
                    0.0,
                    0.0,
                    0.0,
                    0.0,
                    0.0,
                    0.0,
                    0.0,
                    0.0,
                    0.0,
                    0.0,
                    0.0,
                    0.0,
                    0.0,
                    0.0,
                    0.0,
                    0.0,
                    0.0,
                    0.0,
                    0.0,
                    0.0,
                    0.0,
                    0.0,
                    0.0,
                    0.0,
                    0.0,
                    0.0,
                    0.0,
                    0.0,
                    0.0,
                    0.0,
                    0.0,
                    0.0,
                    0.0,
                    0.0,
                    0.0,
                    0.0,
                    0.0,
                    0.0,
                    0.0,
                    0.0,
                    0.0,
                    0.0,
                    0.0,
                    0.0,
                    0.0,
                    0.0,
                    0.0,
                    0.0,
                    0.0,
                    0.0,
                    0.0,
                    0.0,
                    0.0,
                    0.0,
                    0.0,
                    0.0,
                    0.0,
                    0.0,
                    0.0,
                    0.0,
                    0.0
                  ],
                  "scales": [
                    1.0,
                    1.0,
                    1.0,
                    1.0,
                    1.0,
                    1.0,
                    1.0,
                    1.0,
                    1.0,
                    1.0,
                    1.0,
                    1.0,
                    1.0,
                    1.0,
                    1.0,
                    1.0,
                    1.0,
                    1.0,
                    1.0,
                    1.0,
                    1.0,
                    1.0,
                    1.0,
                    1.0,
                    1.0,
                    1.0,
                    1.0,
                    1.0,
                    1.0,
                    1.0,
                    1.0,
                    1.0,
                    1.0,
                    1.0,
                    1.0,
                    1.0,
                    1.0,
                    1.0,
                    1.0,
                    1.0,
                    1.0,
                    1.0,
                    1.0,
                    1.0,
                    1.0,
                    1.0,
                    1.0,
                    1.0,
                    1.0,
                    1.0,
                    1.0,
                    1.0,
                    1.0,
                    1.0,
                    1.0,
                    1.0,
                    1.0,
                    1.0,
                    1.0,
                    1.0,
                    1.0,
                    1.0,
                    1.0,
                    1.0,
                    1.0,
                    1.0,
                    1.0,
                    1.0,
                    1.0,
                    1.0
                  ],
                  "missingValue": 0.0
                },
                "inputLength": 70,
                "outputLength": 70
              }
            }
          ]
        },
        {
          "type": "op.opencv-statmodel",
          "model": {
            "class": "ANN_MLP",
            "statmodel": {
              "format": 3,
              "layer_sizes": [
                70,
                3
              ],
              "activation_function": "SIGMOID_SYM",
              "f_param1": 1.0,
              "f_param2": 1.0,
              "min_val": -9.4999999999999996e-01,
              "max_val": 9.4999999999999996e-01,
              "min_val1": -9.7999999999999998e-01,
              "max_val1": 9.7999999999999998e-01,
              "training_params": {
                "train_method": "RPROP",
                "dw0": 1.0000000000000001e-01,
                "dw_plus": 1.2000000000000000e+00,
                "dw_minus": 5.0000000000000000e-01,
                "dw_min": 1.1920928955078125e-07,
                "dw_max": 50.0,
                "term_criteria": {
                  "epsilon": 1.0000000000000000e-02,
                  "iterations": 1000
                }
              },
              "input_scale": [
                5.2749713671109408e-02,
                7.1326782867329769e-02,
                9.5241916858434125e-02,
                -2.1261398337714091e-01,
                9.2897507821678674e-02,
                -6.9850342323571035e-01,
                1.3411086302639261e-01,
                -5.5238047082133634e-01,
                3.6491556051290353e-05,
                -2.9455195573356951e-01,
                1.3977035026878454e-01,
                -4.2920016779392522e-01,
                2.0519473213867806e-01,
                1.7203431166088279e-01,
                4.2962768508686702e-02,
                -2.0636926906172796e-02,
                8.3784497648270798e-02,
                -1.8750214194861931e-01,
                8.4802012971912699e-02,
                -8.6603338928016083e-01,
                1.2686191759647883e-01,
                -7.0465623541381783e-01,
                3.7395216328869874e-05,
                -4.2881984906279097e-01,
                1.2967491490745020e-01,
                -5.1122872056432878e-01,
                1.5937928484503616e-01,
                2.7165839627850141e-01,
                7.6322148482582619e-02,
                6.4721259867865200e-02,
                1.3997654680245311e-01,
                -1.9911263430746298e-01,
                1.4024272138451888e-01,
                -8.3238162777840374e-01,
                2.0732893852006840e-01,
                -6.4233022705893772e-01,
                8.7638963292639452e-05,
                -3.3887625386392828e-01,
                2.1073773587190112e-01,
                -4.8096314429238979e-01,
                2.8349308860420291e-01,
                2.4375063638963174e-01,
                1.2807059900384470e+01,
                -9.1884289551919324e-02,
                2.0205937550711415e+01,
                1.8049662166727826e-01,
                1.8250628373389311e+01,
                -5.3085187354603691e-01,
                2.9181311499704044e+01,
                -4.6112642961123701e-01,
                1.0371123170650391e+00,
                -1.6657136565060496e-01,
                4.8335364033193891e+01,
                -1.4725096049585445e-01,
                2.8315799297321849e+01,
                3.3920329069430011e-01,
                1.7510191249562137e+01,
                -3.5671805979677913e-03,
                3.3538862991446578e+01,
                1.3213038074052710e-01,
                3.2645914459268418e+01,
                -8.9671937444333805e-01,
                5.2338155306856656e+01,
                -7.2723940417295374e-01,
                4.9284181624732497e+00,
                -3.5002825632598755e-01,
                6.3309251615105502e+01,
                -3.5177854869335251e-01,
                5.1243919612710130e+01,
                4.8661897891212197e-01,
                7.9828876402814677e-02,
                -3.4627928941088272e-02,
                3.2912363619584639e-01,
                -2.0930804353016949e-01,
                7.9115815746591309e-02,
                -8.1662186321477026e-01,
                3.2288880710280471e-01,
                -6.7285617007962528e-01,
                5.3907835200510095e-05,
                -3.6290635371840080e-01,
                5.1796607059570809e-01,
                -4.6641213564689854e-01,
                6.6532316045887130e-01,
                1.7598651632301818e-01,
                6.0275560393915309e-02,
                -1.3548529680490323e-01,
                2.8324197558970204e-01,
                -1.7328819848757945e-01,
                7.0804677729107521e-02,
                -1.0078597105273246e+00,
                2.8813188173295318e-01,
                -8.1124447019505996e-01,
                5.0953954283090379e-05,
                -5.4018712258391477e-01,
                4.7214417074993170e-01,
                -5.3045459966601294e-01,
                5.1578817561607404e-01,
                2.6392811069927852e-01,
                1.1088257558448338e-01,
                -3.4623195192871783e-02,
                4.9861494063955059e-01,
                -2.1108258357545065e-01,
                1.2101712487127610e-01,
                -9.4226475158687217e-01,
                4.9703672803051890e-01,
                -7.3184220719064907e-01,
                1.2859509797128439e-04,
                -4.2264065896443220e-01,
                7.9421165985348419e-01,
                -4.9869702546568306e-01,
                9.9366829000112611e-01,
                2.0328132741284283e-01,
                2.0547291770373750e+01,
                -4.9202715751915406e-03,
                8.0015997780064353e+01,
                1.9325624365838934e-01,
                1.7571477914469135e+01,
                -6.6849875719196150e-01,
                8.1119219629676479e+01,
                -6.1039675464040255e-01,
                1.7015218118129534e+00,
                -2.0249143652618809e-01,
                1.7114939627250814e+02,
                -1.4817354654261530e-01,
                1.2445771294773432e+02,
                4.0834272658583715e-01,
                2.3778583613223166e+01,
                6.8696641000869849e-02,
                1.2327524574862237e+02,
                1.3473981567527887e-01,
                2.9047639020176781e+01,
                -1.0331370449148771e+00,
                1.2048166355324877e+02,
                -7.7735939481538807e-01,
                7.1005652280758662e+00,
                -4.5058710352269937e-01,
                2.2888775554838327e+02,
                -3.0489161473494880e-01,
                2.0056984763303936e+02,
                4.8639333502650151e-01
              ],
              "output_scale": [
                1.0,
                0.0,
                1.0,
                0.0,
                1.0,
                0.0
              ],
              "inv_output_scale": [
                1.0,
                0.0,
                1.0,
                0.0,
                1.0,
                0.0
              ],
              "weights": [
                [
                  -1.0329216139240955e+00,
                  -2.1461276063499315e+00,
                  6.2617107401184002e+00,
                  -2.2362713370730820e-02,
                  1.2065380536052412e+00,
                  -3.8226089211263775e-01,
                  -6.2098188482771688e-01,
                  2.4025138530578465e+00,
                  1.7978557704058007e-01,
                  -1.0802284691121735e+00,
                  1.3036645331171361e+00,
                  -1.0970176371344600e+00,
                  -8.4059542154401823e-01,
                  -6.4426261367042892e-01,
                  -3.0042788199190806e-01,
                  -6.0601018824941777e-01,
                  1.0600417049616615e+00,
                  -1.1787888267364063e-01,
                  5.2570674430181286e-01,
                  1.4037941502432344e-01,
                  1.3466631009500118e+00,
                  4.2034217176439731e-01,
                  -2.7856376071134976e+00,
                  5.4859935401122450e-01,
                  -5.5690170658860549e-01,
                  7.2087107619839508e-01,
                  3.9907260740108658e-01,
                  1.9254175955581687e-01,
                  3.1356419254397503e+00,
                  7.5516976234465216e-01,
                  2.5318777999660080e-01,
                  -3.9304589412889401e-01,
                  -1.2815848858321321e-01,
                  3.0652750302681381e-01,
                  -1.0320664174270477e+00,
                  7.2757040288391073e-01,
                  -8.0963506304542243e-01,
                  -4.3321343649134141e-02,
                  6.1078990011338130e-01,
                  -3.4598523232830197e-01,
                  -8.4935649253617351e-01,
                  -1.6474663181920479e-01,
                  -7.7086523431879839e-01,
                  -4.1727520150860115e-01,
                  -1.3871654148008206e-01,
                  -6.6313424730774417e-01,
                  7.4762990411268693e-01,
                  -5.5745025937966763e-01,
                  -6.7711912022431675e-01,
                  6.0265991458100632e-01,
                  6.8703537101743151e-01,
                  -1.5332268274551600e-01,
                  -1.2894152648411394e-01,
                  -3.4704087607781192e-01,
                  2.5143089341368267e-02,
                  -9.1323151143849035e-01,
                  -5.2678235448760857e-01,
                  -2.8692608939125547e-01,
                  -5.7434771882883096e-01,
                  3.2819692060886035e-01,
                  4.2771905932381871e-01,
                  -6.8634908527361249e-01,
                  -8.1481640358529606e-01,
                  -5.3469752002407833e-01,
                  2.4222187693772901e-01,
                  -1.3282608617601244e+00,
                  2.4228498572999924e-01,
                  -9.0573601843059659e-01,
                  9.7458608647980871e-01,
                  -7.2455380456146234e-01,
                  -4.7210191116193378e-01,
                  -2.5173731745141315e-01,
                  5.5065631785880353e-01,
                  -5.8237650156327725e-01,
                  3.5513098238412871e-01,
                  -7.9187460996609660e-01,
                  -1.2455920938184990e+00,
                  7.6205927349275415e-01,
                  -5.0056486234390407e-01,
                  -1.3527313385028810e+00,
                  -1.2270691023542541e+00,
                  -9.7327230637524753e-01,
                  9.5096072795018882e-01,
                  -1.6638609187217063e-01,
                  -1.8621214574108053e-01,
                  2.3164715350857459e-01,
                  4.8120833018789266e+00,
                  -9.6727043148099756e-01,
                  7.9656546391201155e-01,
                  4.0642696756385432e-01,
                  -1.8545959465012305e+00,
                  2.2736148039479132e-01,
                  8.5449872801788851e-01,
                  -8.4258209860285371e-01,
                  -3.9290381770878058e-01,
                  -2.9286275783898486e-01,
                  2.9851601337283123e-01,
                  -4.4923082837938089e-01,
                  -1.8429520165139623e-01,
                  -8.9577475388645866e-01,
                  -3.8936313460957472e-01,
                  1.2838579457544432e+00,
                  1.1934724422466397e-01,
                  -7.8995229559489222e-01,
                  -1.2625362425753661e+00,
                  -1.3511677742876764e+00,
                  -1.8224478196660929e+00,
                  4.8067183752887574e+00,
                  -3.3492939095855428e-01,
                  6.3901419811762550e-01,
                  -2.2929605632547057e-01,
                  5.9762648499533955e-01,
                  3.0032701776297879e+00,
                  4.3798714867749072e-01,
                  -1.4883021443417965e-01,
                  1.2253927878635680e+00,
                  3.4465901849144270e-01,
                  6.9484097498259711e-01,
                  1.9426505222726420e-01,
                  -2.3763407659266894e-01,
                  -9.3520063461570890e-01,
                  7.3994176677181622e-01,
                  -7.6811988666495956e-01,
                  -6.2363480364552093e-01,
                  -2.4940495850690365e-02,
                  3.8322791227012265e-01,
                  1.2081684666228514e+00,
                  -5.9921099751489670e-01,
                  1.7080999551851651e-02,
                  4.4958631000228150e-01,
                  6.7342204019000573e-01,
                  2.9799597536841743e-01,
                  -1.2315596374083986e+00,
                  1.0656963907957848e-01,
                  -8.7873008310860612e-01,
                  4.5542567878433188e-01,
                  -3.9634743160142361e-01,
                  5.1121056385519326e-01,
                  2.7724760610145806e-02,
                  -3.1064510762075259e-01,
                  -7.7038291688995186e-01,
                  -9.0125579150659907e-01,
                  -5.4361429358131075e-01,
                  8.0083036972798849e-01,
                  -9.5988909456911964e-02,
                  1.1514723341852187e+00,
                  -2.1789126008521087e-01,
                  5.5397302142570826e-01,
                  4.9377914489640373e-01,
                  5.7286464296293038e-01,
                  -3.3374001215589350e-01,
                  -6.5904684648457812e-01,
                  -1.3301990106468129e+00,
                  3.2305747866483314e-01,
                  9.1658969795351097e-01,
                  -8.1849555359040527e-01,
                  -3.6748878028628051e-01,
                  5.2641872799478642e-02,
                  1.0137169597605160e+00,
                  7.3668155099775434e-01,
                  -1.4445397965269793e+00,
                  5.0523991672859703e-01,
                  -9.4312522997771742e-01,
                  -2.8294533384835613e-01,
                  -1.1943635740563395e-01,
                  -9.8425670464564199e-02,
                  -1.1972606308861788e+00,
                  1.1097975017168382e-01,
                  9.7472887719472412e-01,
                  5.0489470410356097e-01,
                  -3.4927753761857421e+00,
                  -6.3564144749532836e-01,
                  1.2238486980093585e-01,
                  1.2363614663032085e+00,
                  4.5603332882772440e-01,
                  1.1431806829105058e-01,
                  4.7812743167724797e-01,
                  1.1209957118489522e-02,
                  -2.7811304299169996e-02,
                  -5.9236772760748657e-01,
                  6.2282294276927996e-01,
                  -3.4254625728463561e-01,
                  6.4965562521506703e-01,
                  -4.1896968913593635e-01,
                  -3.2344746254474072e-01,
                  -3.4107701003859081e-01,
                  -4.5647382954132215e-01,
                  2.7596033080829752e-01,
                  2.5200263705972337e-01,
                  -8.3447090616670716e-01,
                  -1.1620290361848454e-01,
                  4.1516353625844786e+00,
                  -2.3876027921680057e-01,
                  1.0144619125709740e+00,
                  8.1738205430890346e-02,
                  -1.0306839404092805e+00,
                  -5.6065781713004381e-01,
                  3.9670385560066601e-01,
                  6.2503048191466981e-01,
                  -3.3727900077153961e-01,
                  4.4400248042680812e-01,
                  -3.6381606379988385e-02,
                  -2.4565723498471587e-01,
                  1.7259305439052045e-01,
                  1.1759289179266660e-01,
                  -1.0977381267393920e+00,
                  5.8230555405539763e-01,
                  -6.8350712882796505e-01,
                  7.3285569412294893e-01,
                  -8.5529296486131867e-01,
                  -3.0818348267813036e+00,
                  7.3653156481351378e-01,
                  -3.5678804248759416e-01
                ]
              ]
            }
          },
          "requestProbabilities": true
        },
        {
          "type": "op.channels",
          "maxValue": 255.0,
          "doSoftmax": false
        },
        {
          "type": "op.core.convert",
          "pixelType": "UINT8"
        }
      ]
    }
  }
}